extends Node

#var professions = load("res://assets/data/classes.gd").new().professions

#example of value reqs
#		value_caster_reqs = {1:[{code = 'is_master', check = false}]},
#		value_target_reqs = {0:[{code = 'stat', stat = 'sex', value = 'male', operant = 'eq'}]},
#sample rec req 
#		value_receiver_reqs = {1:[{code = 'is_master', check = false}]}
var Skilllist = {
	mentor = {  #fix
		code = 'mentor',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		social_skill_stats = [],
		reqs = [],
		targetreqs = [{code = 'is_master', check = false}],
		effects = [Effectdata.rebuild_template({effect = 'e_mastermentor'})],
		cost = {},
		charges = 1,
		cooldown = 1,
		icon = load("res://assets/images/iconsskills/Mindread.png"),
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'praise',
		value = [['0']],
		damagestat = 'no_stat',
	},
#	rewardsex = { #was not ment to remove ar rework - but obsolete
#		code = 'rewardsex',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		social_skill_stats = ['sexuals'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false},{code = 'stat', stat = 'lust', operant = 'gte', value = 25}],
#		effects = [],
#		cost = {},
#		charges = 2,
#		cooldown = 3,
#		icon = load("res://assets/images/iconsskills/Reward_with_sex 3.png"),
#		tags = ['positive'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'sexreward',
##		value = [['caster.sexuals_factor', '+5'], ['100']],
##		damagestat = ['+loyalty', '+obedience'],
#		value = [['caster.sexuals_factor', '+5'], ['100']],
#		damagestat = ['+loyalty', '+obedience'],
##		receiver = ['target','target','caster']
##		value = [['caster.sexuals', '*2', '/100', '+1', '*36'], ['25'], ['1'], ['10'],['20']],
##		damagestat = [ '+loyaltyObedience', '-lust', '+consent','base_exp','base_exp'],
##		receiver = ['target','target','target','target','caster'],
#	},
#	abuse = { #same as above
#		code = 'abuse',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		social_skill_stats = ['physics'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
#		effects = [],
#		cost = {},
#		charges = 2,
#		cooldown = 1,
#		icon = load("res://assets/images/iconsskills/abuse.png"),
#		tags = ['negative'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'abuse',
#		value = [['5'], ['100'], ['5'], ['50'],['20']], 
#		damagestat = ['+loyalty', '+obedience', '+loyalty', '+obedience','+personality_bold'],
#		receiver = ['target','target','caster','caster','caster']
#	},
#	publicexecution = { #same as above
#		code = 'publicexecution',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
#		effects = ['e_target_kill'],
#		cost = {},
#		charges = 1,
#		cooldown = 7,
#		globallimit = 1, #limits you can use the skill per day regardless of users
#		icon = load("res://assets/images/iconsskills/Execution.png"),
#		tags = ['negative'],
#		dialogue_image = 'execution',
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		value = [['25'],['100']], 
#		damagestat = ['+loyalty', '+obedience'],
#		receiver = ['all','all']
#	},
#	sharedtoy = { #+obedience to everyone on #2rework
#		code = 'sharedtoy',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		social_skill_stats = ['sexuals'],
#		reqs = [],
#		targetreqs = [],
#		effects = [],
#		cost = {lust = 15},
#		charges = 1,
#		cooldown = 4,
#		icon = load('res://assets/images/iconsskills/PublicSex.png'),
#		tags = ['positive', 'no_target'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'sexreward',
#		value = [['10'],['100']], 
#		damagestat = ['+loyalty', '+obedience'],
#		receiver = ['all','all']
#	},
#	performance = { #+obedience to everyone on #2rework
#		code = 'performance',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		social_skill_stats = ['charm'],
#		reqs = [],
#		targetreqs = [],
#		effects = [],
#		cost = {},
#		charges = 1,
#		cooldown = 5,
#		icon = load('res://assets/images/iconsskills/icon_bard2.png'),
#		tags = ['positive', 'no_target'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'performance',
#		value = [['5'],['100']], 
#		damagestat = ['+loyalty', '+obedience'],
#		receiver = ['all','all'],
#	},
#	allure = {#2rework
#		code = 'allure',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		social_skill_stats = ['charm'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
##		custom_duration = ['caster.charm','*0.05','+8'],
#		effects = [Effectdata.rebuild_template({effect = 'e_t_allure1'})],
#		cost = {},
#		charges = 3,
#		cooldown = 3,
#		icon = load("res://assets/images/iconsskills/Charm.png"),
#		tags = ['positive'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'charm',
#		value = [['100']],
#		damagestat = '+obedience'
#	},
#	seduce = {
#		code = 'seduce',
#		descript = '',
#		type = 'social',
#		ability_type = 'spell',
#		social_skill_stats = ['charm','wits'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
##		custom_duration = ['caster.charm','*0.06','+8'],
#		effects = [Effectdata.rebuild_template({effect = 'e_t_seduce'})],
#		cost = {mp = 20},
#		charges = 2,
#		cooldown = 2,
#		icon = load("res://assets/images/iconsskills/Seduce.png"),
#		tags = ['positive'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'seduce',
#		value = [['10'], ['100']], 
#		damagestat = ['+loyalty', '+obedience'],
#	},
#	greatseduce = {
#		code = 'greatseduce',
#		descript = '',
#		type = 'social',
#		ability_type = 'spell',
#		social_skill_stats = ['charm','wits'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
##		custom_duration = ['caster.charm','*0.07','+8'],
#		effects = [Effectdata.rebuild_template({effect = 'e_t_greatseduce'})],
#		cost = {mp = 25},
#		charges = 1,
#		cooldown = 4,
#		icon = load("res://assets/images/iconsskills/Great_Seduce.png"),
#		tags = ['positive'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'seduce',
#		value = [['15'], ['100']], 
#		damagestat = ['+loyalty', '+obedience'],
#	},
	drain = {#target -20 energy, -20% hp, -20% mana | caster takes all of it.
		code = 'drain',
		descript = '',
		type = 'social',
		ability_type = 'spell',
		social_skill_stats = ['wits'],
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 3,
		cooldown = 3,
		icon = load("res://assets/images/iconsskills/LifeDrain.png"),
		tags = ['drain'],
		is_drain = 1.0,
		dialogue_report = '',
		dialogue_show_repeat = false,
		value = [['target.hp','*-0.2'],['target.mp','*-0.2']],
		damagestat = ['hp','mp'],
	},
	drain_mana = {
		code = 'drain_mana',
		descript = '',
		type = 'social',
		ability_type = 'spell',
		social_skill_stats = ['wits'],
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 2,
		cooldown = 2,
		icon = load("res://assets/images/iconsskills/ManaDrain.png"),
		tags = ['drain'],
		is_drain = 1.0,
		value = [['target.mpmax','*-0.35']],
		damagestat = ['mp'],
	},
#	innervate = {#REDO #not used
#		code = 'innervate',
#		descript = '',
#		type = 'social',
#		ability_type = 'spell',
#		reqs = [],
#		targetreqs = [],
#		effects = [],
#		cost = {mp = 10},
#		charges = 2,
#		cooldown = 1,
#		icon = load("res://assets/images/iconsskills/Innervate.png"),
#		tags = [],
#		value = [['caster.wits','*0.2','+35']],
#		damagestat = ['energy'],
#	},
#
#	shackles = {#When attempting to escape, makes a check to break shackles instead: chance is max(0,(target.magic_factor - caster.magic_factor+1)) * 10 + 5 %. If chance successful -> remove debuff and make system message
#		code = 'shackles',
#		descript = '',
#		type = 'social',
#		ability_type = 'spell',
#		social_skill_stats = ['wits'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
#		effects = [Effectdata.rebuild_template({effect = 'e_shackles'})],
#		cost = {mp = 25},
#		charges = 1,
#		cooldown = 1,
#		icon = load("res://assets/images/iconsskills/Magic Shackles.png"),
#		tags = [],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'shackles',
#		value = ['0'],
#		damagestat = 'no_stat'
#	},
#	greatshackles = {#When attempting to escape, makes a check to break shackles instead: chance is (target.magic_factor - caster.magic_factor+2) * 10 - 10%. If chance successful -> remove debuff and make system message
#		code = 'greatshackles',
#		descript = '',
#		type = 'social',
#		ability_type = 'spell',
#		social_skill_stats = ['wits'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
#		effects = ['e_s_shackles2'],
#		cost = {mp = 50},
#		charges = 1,
#		cooldown = 1,
#		icon = load("res://assets/images/iconsskills/Strong Magic Shackles.png"),
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'shackles',
#		tags = [],
#		value = ['0'],
#		damagestat = 'no_stat'
#	},
#
#	mindcontrol = {
#		code = 'mindcontrol',
#		descript = '',
#		type = 'social',
#		ability_type = 'spell',
#		social_skill_stats = ['wits'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}], #add check to not having mindcontrol
#		effects = [],#'e_s_mindcontrol'],#Effectdata.rebuild_template({effect = 'e_t_mindcontrol'})],
#		cost = {mp = 50},
#		charges = 1,# ['caster.magic_factor', '/2.0', '+1.5'],
#		#custom_used_charges = ['call', 'calculate_linked_chars_by_effect', 'mindcontrol'],
#		cooldown = 5,
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'mindcontrol',
#		icon = load("res://assets/images/iconsskills/Mind_Control.png"),
#		tags = ['positive'],
#		value = [['50'], ['100']], 
#		damagestat = [ '+loyalty', '+obedience'],
#	},
#
	stopmindcontrol = {#fix to target self and all other params
		code = 'stopmindcontrol',
		descript = '',
		type = 'social',
		ability_type = 'spell',
		social_skill_stats = ['wits'],
		reqs = [],
		targetreqs = [{code = 'is_master', check = false}],#add check to having mindcontrol
		effects = [Effectdata.rebuild_template({effect = 'e_t_stopcontrol'})],
		cost = {mp = 10},
		charges = 1,
		cooldown = 1,
		icon = load("res://assets/images/iconsskills/RemoveMindcontrol.png"),
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'mindcontrol',
		tags = [],
		value = ['0'],
		damagestat = 'no_stat'
	},
	hardwork = {#+50% productivity for the day
		code = 'hardwork',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		social_skill_stats = ['physics'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({trigger = variables.TR_SOC_SPEC, duration = 12, effect = 'e_t_hardwork'})],
		cost = {},
		charges = 1,
		cooldown = 5,
		icon = load("res://assets/images/iconsskills/Discipline.png"),
		tags = ['no_target'],
		value = ['0'],
		damagestat = 'no_stat',
		receiver = 'area',
		process_no_stat = true,
#		dialogue_report = '',
#		dialogue_show_repeat = false,
	},
	discipline = {
		code = 'discipline',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		social_skill_stats = ['physics'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({duration = 20, effect = 'e_t_discipline'})],
		cost = {},
		charges = 2,
		cooldown = 4,
		icon = load("res://assets/images/iconsskills/Discipline2.png"),
		tags = ['positive'],
		value = ['0'],
		damagestat = 'no_stat'
	},
#	supremacy = {
#		code = 'supremacy',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		social_skill_stats = ['charm'],
#		reqs = [],
#		targetreqs = [{code = 'is_master', check = false}],
#		effects = [],
#		cost = {},
#		charges = 1,
#		cooldown = 7,
#		icon = load("res://assets/images/iconsskills/Authority.png"),
#		tags = ['positive'],
#		value = [['25'], ['100']], 
#		damagestat = ['+loyalty', '+obedience'],
#	},
	consume_soul = {#kills target, gain its experience
		code = 'consume_soul',
		descript = '',
		type = 'social',
		ability_type = 'spell',
		social_skill_stats = ['wits'],
		reqs = [],
		targetreqs = [{code = 'is_master', check = false}],
		effects = ['e_target_kill'],
		cost = {mp = 60},
		charges = 1,
		cooldown = 7,
		icon = load("res://assets/images/iconsskills/soulconsume.png"),
		tags = [],
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'souleat',
		value = ['target.base_exp'],
		damagestat = 'base_exp',
		receiver = 'caster',
	},
	make_undead = {#turns target into undead (trait)
		code = 'make_undead',
		descript = '',
		type = 'social',
		ability_type = 'spell',
		social_skill_stats = ['wits'],
		reqs = [],
		targetreqs = [{code = 'is_master', check = false},{code = 'is_unique', value = false}, {code = 'trait', trait = 'undead', check = false}],
		effects = ['e_s_undead'],
		cost = {mp = 50},
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'mindcontrol',
		charges = 1,
		cooldown = 3,
		icon = load("res://assets/images/iconsskills/TurnUndead.png"),
		tags = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	soul_bind = { #fix prams
		code = 'soul_bind',
		descript = '',
		type = 'social',
		ability_type = 'spell',
		social_skill_stats = ['wits'],
		reqs = [],
		targetreqs = [{code = 'is_master', check = false}],
		effects = [
#			Effectdata.rebuild_template({effect = 'e_s_dominate'}),
			Effectdata.rebuild_template({effect = 'e_s_bond'}),
		],
		cost = {mp = 50},
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'mindcontrol',
		charges = 1,
		cooldown = 4,
		icon = load("res://assets/images/iconsclasses/Dominator.png"),
		tags = [],
		value = [['5']],
		damagestat = '=consent'
	},
	
	
	#Combat Skills
	#attack
	#ranged_attack
	inspire = {# buffs all team for 20% damage, 20% def/mdef for 1 combat
		code = 'inspire',
		descript = '',
		icon = load("res://assets/images/iconsskills/Inspire.png"),
		type = 'combat',
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_inspire'})], 
		cost = {},
		charges = 1,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	command = {# single target buff: +25% damage for 3 turns
		code = 'command',
		descript = '',
		icon = load("res://assets/images/iconsskills/Command.png"),
		type = 'combat',
		ability_type = 'spell', 
		tags = ['buff','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 250,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_command'})], 
		cost = {},
		charges = 0,
		combatcooldown = 3,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	trap = {#enemy debuff: after using skill stun target for 2 turns and remove debuff. Requires trap
		code = 'trap',
		descript = '',
		icon = load("res://assets/images/iconsskills/Trap.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['debuff','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 100,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_trap'})], 
		cost = {},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {trap = 1},
		target = 'enemy',
		target_number = 'line',
		target_range = 'melee',
		damage_type = 'weapon',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	endure = {
		code = 'endure',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_endure.png"),
		type = 'combat',
		ability_type = 'skill', 
		tags = ['buff','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 250,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_endure'})], 
		cost = {},
		charges = 0,
		combatcooldown = 5,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	mirror_image = {
		code = 'mirror_image',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_mirror_image.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['noevade','support','buff','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 350,
		reqs = [],
		targetreqs = [],
		effects = ['e_s_mirror'], 
		cost = {},
		charges = 0,
		combatcooldown = 4,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'light',#not sure but not matters
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['0']],
		damagestat = ['no_stat']
	},
	energy_field = {
		code = 'energy_field',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_energy_field.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['noevade','support','buff'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 350,
		reqs = [],
		targetreqs = [],
		effects = ['e_s_field'], 
		cost = {},
		charges = 0,
		combatcooldown = 4,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'neutral',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk', '*0.4']],
		damagestat = ['no_stat']
	},
	mental_bless = {#buff: increase MATK by 25% (think of better name)
		code = 'mental_bless',
		descript = '',
		icon = load("res://assets/images/iconsskills/meditate.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','support','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 300,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_mental_bless'})], 
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		damage = 0,
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['0'],
		damagestat = 'no_stat'
	},
	protective_shell = {
		code = 'protective_shell',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_protective_shell.png"),
		type = 'combat',
		ability_type = 'skill', 
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_shell'})], 
		cost = {},
		charges = 0,
		combatcooldown = 5,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	purge = {
		code = 'purge',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_purge.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['support', 'noevade','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 150,
		reqs = [],
		targetreqs = [],
		effects = ['e_s_purge'], 
		cost = {},
		charges = 3,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	righteous_fire = { 
		code = 'righteous_fire',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage', 'debuff', 'fire','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 100,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_silence1', duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 2,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'flame', target = 'target', period = 'postdamage'},
			{code = 'debuff', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.75,
	},
	elemental_weakness = { 
		code = 'elemental_weakness',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_elementa_weakness.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['debuff','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 350,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_elweakness', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['0']],
	},
	elemental_protection = { 
		code = 'elemental_protection',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_elemental_protection.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 200,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_elprotect', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',#'line'
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['0']],
	},
	taunt = {
		code = 'taunt',
		descript = '',
		icon = load("res://assets/images/iconsskills/WeaponRefine.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['support', 'debuf','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 300,
		reqs = [],
		targetreqs = [],
		effects = ['e_t_taunt'], 
		cost = {mp = 4},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	camouflage = {
		code = 'camouflage',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_camouflage.png"),
		type = 'combat',
		ability_type = 'skill', 
		tags = ['buff'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 400,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_camo'})], 
		cost = {},
		charges = 0,
		combatcooldown = 5,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	reincarnate = { 
		code = 'reincarnate',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_reincarnation.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 550,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_reincarnate'})], 
		cost = {mp = 15},
		charges = 0,
		combatcooldown = -1, #neverending cd
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['0']],
	},
	huntersmark = { 
		code = 'huntersmark',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_hunters_mark.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['debuff','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 200,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_hmark', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 3,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['0']],
	},
	bard1 = {
		code = 'bard1',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_bard1.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_bard1'], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	bard2 = {
		code = 'bard2',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_bard3.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_bard2'], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	bard3 = {
		code = 'bard3',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_bard2.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_bard3'], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	spirit1 = {
		code = 'spirit1',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_hare.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_spirit1'], 
		cost = {},
		charges = 2,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	spirit2 = {
		code = 'spirit2',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_turtle.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_spirit2'], 
		cost = {},
		charges = 3,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	spirit3 = {
		code = 'spirit3',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_eagle.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_spirit3'], 
		cost = {},
		charges = 2,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	euphoria_apply = {
		code = 'euphoria_apply',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attract.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff', 'instant'],
		reqs = [
			{code = 'stat', stat = 'lust', operant = 'gte', value = 1},
#			{code = 'has_status', status = 'euphoria', check = false},
		],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'succubus_combat_2'})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
#	euphoria_remove = {
#		code = 'euphoria_remove',
#		descript = '',
#		icon = load("res://assets/images/iconsskills/icon_bard1.png"),
#		type = 'combat', 
#		ability_type = 'skill',
#		tags = ['instant'],
#		reqs = [
#			{code = 'has_status', status = 'euphoria', check = true},
#		],
#		targetreqs = [],
#		effects = [Effectdata.rebuild_template({effect = 'euphoria_cast_remove'})], 
#		cost = {},
#		charges = 0,
#		combatcooldown = 0,
#		cooldown = 1,
#		catalysts = {},
#		target = 'self',
#		target_number = 'single',
#		target_range = 'any',
#		damage_type = 'weapon',
#		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
#		sound = [],
#		value = [['0']],
#		damagestat = 'no_stat'
#	},
	hammerfall = {
		code = 'hammerfall',
		descript = '',
		icon = load("res://assets/images/iconsskills/Heavy-Strike.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_stun1', duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'earth',
		sfx = [{code = 'earth_spike', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 1.5
	},
	
	weapon_refine = {#buffs ally: all skill damage increased by 30% until the end of combat. Only 3 times per day
		code = 'weapon_refine',
		descript = '',
		icon = load("res://assets/images/iconsskills/WeaponRefine.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_refine'})], 
		cost = {},
		charges = 3,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	distract = {
		code = 'distract',
		descript = '',
		icon = load("res://assets/images/iconsskills/distract.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['debuff','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 100,
		reqs = [],
		targetreqs = [],
		effects = ['e_s_distract'], 
		cost = {},
		chance = 100,
		evade = 0,
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	attract = {
		code = 'attract',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attract.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['debuff','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 500,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_charm', duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	enthral = {#stun target and self for 3 turns or until one is damaged, only humanoids
		code = 'enthral',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attract.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['debuff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_entral','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 350,
		cost = {mp = 10},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	attack = {#melee attack
		code = 'attack',
		descript = '',
		icon = load("res://assets/images/iconsskills/defaultattack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage', 'default', 'basic'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'weapon',
		aipriority = 1,
		aipatterns = ['attack'],
		allowedtargets = ['enemy'],
		value = 1,
		random_factor_p = 0.1,
		sfx = [{code = 'weapon', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
	ranged_attack = {#melee attack
		code = 'ranged_attack',
		descript = '',
		icon = load("res://assets/images/iconsskills/heavyshot.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage', 'default', 'basic'],
		reqs = [],#need req 
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		aipriority = 1,
		aipatterns = ['attack'],
		allowedtargets = ['enemy'],
		value = 1,
		sfx = [{code = 'ranged_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
	
	enemy_slash = {#melee attack vs all enemeis in row
		code = 'enemy_slash',
		descript = '',
		icon = load("res://assets/images/iconsskills/slash.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 3,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'row',#not sure
		target_range = 'melee',
		damage_type = 'weapon',
		value = 1,#i think so
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
	protect = {# buff ally: takes skill damage from ally for 2 turns (damage is reduced by caster's def and resists), +20 def on self
		code = 'protect',
		descript = '',
		icon = load("res://assets/images/iconsskills/Protect.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff','support','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 300,
		reqs = [],
		targetreqs = [],
		effects = ['e_s_protect'], 
		cost = {},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		value = ['0'],
		damagestat = 'no_stat',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
	dragonmight = {#increases damage and armor by 25% until end of battle. Once in 2 days
		code = 'dragonmight',
		descript = '',
		icon = load("res://assets/images/iconsskills/Drain.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff','support'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_dragonmight'})], 
		cost = {},
		charges = 1,
		combatcooldown = 0,
		cooldown = 2,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'fire',
		value = ['0'],
		damagestat = 'no_stat',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
	},
	lesser_heal = {
		code = 'lesser_heal',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Heal.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 250,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {mp = 6},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk', '*1.3']],#1.3
		damagestat = ['-damage_hp']
	},
	mass_lesser_heal = {#heals all allies for 1x damage
		code = 'mass_lesser_heal',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/lesserheal.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 300,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {mp = 12},
		charges = 0,
		combatcooldown = 4,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'light',#not sure but not matters
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk']],#1,
		damagestat = ['-damage_hp']
	},
	rejuvenation = {
		code = 'rejuvenation',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/rejuvenation.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],#?
		learn_cost = 400,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_regen', push_value = true, duration = 2})], 
		cost = {mp = 10},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'row',
		target_range = 'any',
		damage_type = 'light',#not sure but not matters
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk', '*0.6'], ['caster.matk']],
		damagestat = ['no_stat','-damage_hp']
	},
	sanctuary = {
		code = 'sanctuary',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/sanctuary.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],#?
		learn_cost = 750,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_regen', push_value = true, duration = 3})], 
		cost = {mp = 15}, 
		charges = 0,
		combatcooldown = 3,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'light',#not sure but not matters
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk', '*1.2'], ['caster.matk', '*0.8']],
		damagestat = ['no_stat','-damage_hp']
	},
	restoration = {
		code = 'restoration',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/restoration.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],#?
		learn_cost = 500,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_resto', duration = 2})], 
		cost = {mp = 10},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',#not sure but not matters
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk', '*2.5']],
		damagestat = ['-damage_hp']
	},
	fairy_heal = {#heals target for 50%
		code = 'fairy_heal',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/fairy_heal.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {mp = 8},
		charges = 1,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['target.hpmax','*0.5']],
		damagestat = ['-damage_hp']
	},
	entangle = {#dryad skill
		code = 'entangle',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_plant.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_stun'})], 
		cost = {mp = 5},
		charges = 2,
		combatcooldown = 3,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'earth',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.3
	},
	first_aid = {#heals target for 30%
		code = 'first_aid',
		descript = '',
		icon = load("res://assets/images/iconsskills/HealBandage.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 100,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {bandage = 1},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['target.hpmax','*0.30']],
		damagestat = ['-damage_hp']
	},
	serrated_shot = {#applies debuff: deal 25% bonus damage every turn for 4 turns
		code = 'serrated_shot',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/heavyshot.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 150,
		reqs = [{code = 'gear_equiped', param = 'geartype', value = 'bow', check = true}],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_bleed_new', chance = 1, push_characters = true, checkres = 'bleed', duration = 3})],
		cost = {},
		charges = 0,
		combatcooldown = 3,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'weapon',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.atk','*0.9'],0.9],
		damagestat = ['no_stat','+damage_hp'],
	},
	sniper_shot = {
		code = 'sniper_shot',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/heavyshot.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		reqs = [{code = 'gear_equiped', param = 'geartype', value = 'bow', check = true}],
		targetreqs = [],
		effects = [Effectdata.rebuild_template_globals({effect = 'e_s_ensnare5'})],
		cost = {},
		charges = 0,
		combatcooldown = 3,#?
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'earth',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.1,
	},

#	barrier = {
#		code = 'barrier',
#
#		descript = '',
#		icon = load("res://assets/images/iconsskills/Barrier.png"),
#		type = 'combat', 
#		ability_type = 'spell',
#		tags = ['buff'],
#		reqs = [],
#		targetreqs = [],
#		effects = ['e_s_barrier'],#,'support'], 
#		cost = {mp = 10},
#		charges = 0,
#		combatcooldown = 3,
#		cooldown = 0,
#		catalysts = {},
#		target = 'ally',
#		target_number = 'single',
#		target_range = 'any',
#		damage_type = 'weapon',
#		sfx = [], 
#		sound = [],
#		value = ['0'],
#		damagestat = 'no_stat'
#	},
	blizzard = {
		code = 'blizzard',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_ice.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','aoe','learnable', 'kill_animation_ice'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 600,
		reqs = [],
		targetreqs = [],
		effects = [
			Effectdata.rebuild_template({chance = 0.3, effect = 'e_t_blizz'}),
			Effectdata.rebuild_template({chance = 0.5, effect = 'e_s_freeze1', duration = 2})
		], 
		cost = {mp = 10},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'water',
		value = 0.45,
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
	},
	bless = {#buff: increase ATK by 25%
		code = 'bless',
		descript = '',
		icon = load("res://assets/images/iconsskills/meditate.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','support','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 200,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_bless'})], 
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		damage = 0,
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['0'],
		damagestat = 'no_stat'
	},
	blood_magic = {#sacrifice 10% health to get 3x mana from it, 3 charges per day 
		code = 'blood_magic',
		descript = '',
		icon = load("res://assets/images/iconsclasses/Blood_Mage.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['support'],#no log for skill result - until combat reworking to different log tags for hp and mana values
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 3,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = [['caster.hp','*0.1'],['caster.hp','*0.3']],
		damagestat = ['-hp', '+mp']
	},
	blood_explosion = {
		code = 'blood_explosion',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_blood_explosion.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads', 'aoe', 'no_fa_miss'],
		reqs = [],
		targetreqs = [{code = 'stat', stat = 'racegroup', operant = 'neq', value = 'undead'},{code = 'stat', stat = 'racegroup', operant = 'neq', value = 'mech'}],
		effects = [],
		cost = {mp = 25},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'normal',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 3,
		follow_up = 'blood_ex1' 
	},
	blood_ex1 = {
		code = 'blood_ex1',
		name = '',
		descript = '',
		icon = load("res://assets/images/iconsskills/firestorm.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads', 'aoe', 'not_final'],
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'nontarget',
		target_range = 'any',
		damage_type = 'normal',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.5,
		not_final = true
	},
	devour = {
		code = 'devour',
		descript = '',
		icon = load("res://assets/images/iconsclasses/soul eater.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['debuf','ads'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_devour'], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'normal',
		sfx = [{code = 'earth_spike', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = [['0']],
		damagestat = 'no_stat'
	},
	l_orb = {
		code = 'l_orb',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_lightning_orb.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 500,
		reqs = [],
		targetreqs = [],
		effects = ['e_s_l_orb'],
		cost = {},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'air',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 2.5
	},
	l_orb1 = {
		code = 'l_orb1',
		name = '',
		descript = '',
		icon = load("res://assets/images/iconsskills/firestorm.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage', 'not_final'],
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single_nontarget',
		target_range = 'any',
		damage_type = 'air',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.25,
		not_final = true
	},
	earthquake = {
		code = 'earthquake',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earthquake.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['aoe', 'damage','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 900,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'earth',
		sfx = [{code = 'earth_spike', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 0.4,
		follow_up = 'eq_setup'
	},
	eq_setup = {
		code = 'eq_setup',
		new_syntax = true,
		name = "",
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'spell',
		tags = ['not_final'],
		reqs = [],
		targetreqs = [],
		repeat = 1,
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'setup_global',
		sfx = [], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = {skill = 'earthquake_glob', number = 3},
		not_final = true
	},
	earthquake_glob = {
		code = 'earthquake_glob',
		descript = '',
		icon = load("res://assets/images/iconsskills/firestorm.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['aoe', 'damage'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',# or 'full'
		target_number = 'all',
		target_range = 'any',
		damage_type = 'earth',
		sfx = [{code = 'earth_spike', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 0.4
	},
	
	fly_evasion = {
		code = 'fly_evasion',
		descript = '',
		icon = load('res://assets/images/iconsskills/Fear.png'),
		learn_reqs = [{code = 'stat', stat = 'wings', operant = 'neq', value = ''}],
		learn_cost = 500,
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','support','learnable'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_fly'})], 
		cost = {},
		charges = 0,
		combatcooldown = 4, #i think this is right
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['0'],
		damagestat = 'no_stat'
	},
	
	hide = {#buff on self: hiding breaks on spell cast, can't be targeted by non-aoe hits; if only possible target on the row for melee -> backrow can be attacked. If only target left, hide is canceled. 
		code = 'hide',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_eyes.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','support'],
		reqs = [
			{code = 'gear_equiped', param = 'geartype', value = 'medium', check = false},
			{orflag = true, code = 'has_status', status = 'assassin_hide', check = true},
			{code = 'gear_equiped', param = 'geartype', value = 'heavy', check = false},
			],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_hide2'})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['0'],
		damagestat = 'no_stat'
	},
	assassinate = {#must be in hide, deals 400% damage, only once per day
		code = 'assassinate',
		descript = '',
		icon = load('res://assets/images/iconsskills/assassinate.png'),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 750,
		reqs = [{code = 'has_status', status = 'hide', check = true}],
		targetreqs = [],
		effects = [], 
		cost = {mp = 5},
		charges = 3,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = ['caster.atk', '*4.0']
	},
	assassinate_en = {#deals 200% damage, only npc
		code = 'assassinate_en',
		descript = '',
		icon = load('res://assets/images/iconsskills/assassinate.png'),
		type = 'combat', 
		ability_type = 'skill',
		reqs = [],
		tags = ['damage','ads'],
#		new_syntax = true,
		targetreqs = [],
		effects = [], 
		cost = {mp = 0},
		charges = 3,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = ['caster.atk', '*2.0']
	},
	earth_atk = {
		code = 'earth_atk',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earth.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 200,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_stun', chance = 0.3, checkres = 'stun'})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'earth',
		sfx = [{code = 'earth_spike', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 1.25
	},
	wind_atk = {
		code = 'wind_atk',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/windblade.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 150,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'air',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.8,
		follow_up = 'wind_atk_1'
	},
	wind_atk_1 = {
		code = 'wind_atk_1',
		name = '',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads', 'not_final', 'random_target'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'air',
		random_target = true,
		not_final = true,
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.8,
	},
	water_atk = {
		code = 'water_atk',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/wateredge.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 150,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_bleed_new', push_characters = true, duration = 3})], #for bleed, burn, poison etc push_value is mandatory, for others it is often not reqired, for new DOTs mandatry is push_characters
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'water',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.atk','*0.3'],1.1],
		damagestat = ['no_stat', '+damage_hp']
	},
	holy_atk = {
		code = 'holy_atk',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_light.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 200,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_confuse', chance = 0.2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'light',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.2
	},
	fire_cleave = {
		code = 'fire_cleave',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/firecleave.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 550,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_burn_new', chance = 0.2, push_characters = true, duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'line',
		target_range = 'weapon',
		damage_type = 'fire',
		sfx = [{code = 'flame', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.atk','*0.2'], 0.7],
		damagestat = ['no_stat', '+damage_hp']
	},
	earth_shatter = {
		code = 'earth_shatter',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earth.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage', 'aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 750,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_eshatter', duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'earth',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.6
	},
	revenge = {
		code = 'revenge',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/revenge.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_revenge'], 
		cost = {mp = 5},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'weapon',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.7
	},
	fire_burst = {
		code = 'fire_burst',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/firebolt.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 850,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_fireburst', duration = 3})], 
		cost = {mp = 8},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'firebolt', target = 'target', period = 'predamage'},{code = 'flame', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'firebolt', strike = null, hit = 'firehit', hittype = 'absolute'},
		value = 0.50
	},
	air_cutter = {
		code = 'air_cutter',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/aircutter.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 750,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_bleed_new', chance = 0.5, push_characters = true, duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'air',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.atk','*0.2'],0.85],
		damagestat = ['no_stat', '+damage_hp'],
		follow_up = 'air_cutter_1'
	},
	air_cutter_1 = {
		code = 'air_cutter_1',
		name = '',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe', 'not_final', 'random_target'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_bleed_new', chance = 0.5, push_characters = true, duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		repeat = 2,
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'air',
		random_target = true,
		not_final = true,
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.atk','*0.2'],0.7],
		damagestat = ['no_stat', '+damage_hp'],
	},
	holy_lance = {
		code = 'holy_lance',
		descript = '',
		icon = load("res://assets/images/iconsskills/holylance.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 790,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'row',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.0
	},
	swipe = {
		code = 'swipe',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/swipe.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 550,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_swipe', chance = 0.3, duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'line',
		target_range = 'melee',
		damage_type = 'air',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.7
	},
	arrowrain = {
		code = 'arrowrain',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/arrowshower.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 450,
		reqs = [{code = 'gear_equiped', param = 'geartype', value = 'bow', check = true}],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_arrowrain', chance = 0.3, duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'water',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.65
	},
	explosivearr = {
		code = 'explosivearr',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_arrow_explode.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_combat', check = true}],
		learn_cost = 450,
		reqs = [{code = 'gear_equiped', param = 'geartype', value = 'bow', check = true}],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_burn_new', push_characters = true, duration = 2})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.atk','*0.25'],1.3],
		damagestat = ['no_stat', '+damage_hp']
	},
	shadowstrike = {
		code = 'shadowstrike',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_dark.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_combat', check = true}],
		learn_cost = 300,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_sstrike', duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.3
	},
	firearr = {
		code = 'firearr',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/firebolt.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 150,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_burn_new', chance = 0.5, push_characters = true, duration = 2})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'firebolt', target = 'target', period = 'predamage'},{code = 'flame', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'firebolt', strike = null, hit = 'firehit', hittype = 'absolute'},
		value = [['caster.matk','*0.2'],1.2],
		damagestat = ['no_stat', '+damage_hp']
	},
	lightning = {
		code = 'lightning',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_lightning.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 300,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_stun'})], 
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'air',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.25
	},
	mindblast = {
		code = 'mindblast',
		descript = '',
		icon = load("res://assets/images/iconsskills/Mindblast.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 250,
		reqs = [],
		targetreqs = [],
		effects = [], #Effectdata.rebuild_template({effect = 'e_s_confuse'})
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'mind',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.2,
		random_factor_p = 0.1
	},
	psychicblast = {
		code = 'psychicblast',
		descript = '',
		icon = load("res://assets/images/iconsskills/Mindread.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 750,
		reqs = [],
		targetreqs = [],
		effects = [], #Effectdata.rebuild_template({effect = 'e_s_confuse'})
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'enemy',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'mind',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.65,
	},
	resurrect = {
		code = 'resurrect',
#		new_syntax = true,
		descript = '',
		icon = load('res://assets/images/iconsskills/Innervate.png'),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['resurrect', 'noevade','noreduce','support','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 450,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_res', push_value = true})], 
		cost = {mp = 10},
		charges = 0,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'dead',
		damage_type = 'light',
		sfx = [], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['40'],
		damagestat = 'no_stat'
	},
	decay = {
		code = 'decay',
		descript = '',
		icon = load("res://assets/images/iconsskills/Acid-spit.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 850,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'decay', target = 'target_frame', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = 0.65
	},
	overgrowth = {
		code = 'overgrowth',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_plant.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','aoe','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 525,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'earth',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.45
	},
	firebomb = {
		code = 'firebomb',
		descript = '',
		icon = load("res://assets/images/iconsskills/FireBomb.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [],
		learn_cost = 150,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_burn_new', push_characters = true, duration = 2})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {unstable_concoction = 1},
		target = 'enemy',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['caster.matk','*0.5'],2],
		damagestat = ['no_stat', '+damage_hp']
	},
	acidbomb = {
		code = 'acidbomb',
		descript = '',
		icon = load("res://assets/images/iconsskills/AcidBomb.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 250,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_acid', duration = 4})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {unstable_concoction = 1},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'water', 
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 2.5
	},
	mimic_attack = {
		code = 'mimic_attack',
		descript = '',
		icon = load("res://assets/images/iconsskills/AcidBomb.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_disarm1', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'water', 
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.2
	},
	entangle_enemy = {
		code = 'entangle_enemy',
		descript = '',
		icon = load("res://assets/images/iconsskills/AcidBomb.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_disarm3', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',#?
		target_range = 'any',
		damage_type = 'earth',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}],#? 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1
	},
	poison_spray = {
		code = 'poison_spray',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_poison_new', push_characters = true, duration = 3})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'water',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [0.05, 1.0], #second value is questionable
		damagestat = ['no_stat', '+damage_hp']
	},
	poison_bite = {
		code = 'poison_bite',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_poison_new', push_characters = true, duration = 5})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'dark',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [0.4, 1.5],
		damagestat = ['no_stat', '+damage_hp']
	},
	bleeding_strike = {#applies debuff: deal 25% bonus damage every turn for 4 turns
		code = 'bleeding_strike',
		descript = '',
		icon = load("res://assets/images/iconsskills/Lich-strike.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','debuff','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_bleed_new', push_characters = true, duration = 4})], 
		cost = {},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'weapon',
		damage_type = 'weapon',
		value = ['caster.atk'],
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
	shred = {
		code = 'shred',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_shred_old', duration = 3})], #if change to new version - Effectdata.rebuild_template_globals({effect = 'e_s_shred'})
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'weapon',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.3,
	},
	growl = {
		code = 'growl',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['aoe'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_growl', duration = 3})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'x_random',
		number_rnd_targets = 3,
		target_range = 'any',
		damage_type = 'air',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.5,
	},
	magicward = {
		code = 'magicward',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_mward'})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0,
	},
	windblast = { 
		code = 'windblast',
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage', 'debuff', 'air', 'ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_silence1', duration = 3, chance = 0.5})], 
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'x_random',
		number_rnd_targets = 3,
		target_range = 'any',
		damage_type = 'air',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.1,
	},
	swipe_en = {
		code = 'swipe_en',
		descript = '',
		icon = load("res://assets/images/iconsskills/Heavy-Strike.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_stun1', duration = 1})], 
		cost = {},
		repeat = 2,
		random_target = true,
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'melee',
		damage_type = 'normal',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 1.2
	},
	voidslam = {
		code = 'voidslam',
		
		descript = '',
		icon = load("res://assets/images/iconsskills/Attack.png"),
		type = 'combat', 
		ability_type = 'skill',
		tags = ['damage','ads', 'debuff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_slam', duration = 2})],
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1.0,
	},
	light_spell = {
		code = 'light_spell',
		descript = '',
		icon = load("res://assets/images/iconsskills/light_spell.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','learnable'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'basic_spells', check = true}],
		learn_cost = 250,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 1
	},
	light_spell_aoe = {
		code = 'light_spell_aoe',
		descript = '',
		icon = load("res://assets/images/iconsskills/light_spell_aoe.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','learnable', 'aoe'],
#		new_syntax = true,
		learn_reqs = [{code = 'trait', trait = 'advanced_spells', check = true}],
		learn_cost = 750,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_holy', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'targetattack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.3
	},
	
	pas_commander_1 = {
		code = 'pas_commander_1',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earthquake.png"),
		type = 'auto', 
		ability_type = 'spell',
		tags = ['instant', 'passive'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template_globals({effect = 'e_s_commander', push_value = true})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'light',
		sfx = [], 
		sounddata = {initiate = null, strike = null, hit = null, hittype = 'bodyarmor'},
		value = ['0.03'],
		damagestat = 'no_stat',
		not_final = true
	},
	pas_commander_2 = {
		code = 'pas_commander_2',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earthquake.png"),
		type = 'auto', 
		ability_type = 'spell',
		tags = ['instant'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template_globals({effect = 'e_s_commander', push_value = true})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'light',
		sfx = [], 
		sounddata = {initiate = null, strike = null, hit = null, hittype = 'bodyarmor'},
		value = ['0.05'],
		damagestat = 'no_stat',
		not_final = true
	},
	pas_fireshield = {
		code = 'pas_fireshield',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earthquake.png"),
		type = 'auto', 
		ability_type = 'spell',
		tags = ['aoe', 'damage', 'fire', 'instant'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'nontarget_group',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'earth_spike', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 0.3,
		not_final = true
	},
	pas_atkpass_remove = {
		code = 'pas_atkpass_remove',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earthquake.png"),
		type = 'auto', 
		ability_type = 'spell',
		tags = ['instant'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_atkpass_remove'})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'earth_spike', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 0,
		damagestat = 'no_stat',
		not_final = true
	},
	pas_atkpass_apply = {
		code = 'pas_atkpass_apply',
		descript = '',
		icon = load("res://assets/images/iconsskills/icon_earthquake.png"),
		type = 'auto', 
		ability_type = 'spell',
		tags = ['instant'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_atkpass'}), Effectdata.rebuild_template({effect = 'e_t_atkpass_remove'})], 
		cost = {},
		charges = 0,
		combatcooldown = 2,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'fire',
		sfx = [{code = 'earth_spike', target = 'target', period = 'postdamage'}], 
		sounddata = {initiate = 'avalanche', strike = null, hit = null, hittype = 'bodyarmor'},
		value = 0,
		damagestat = 'no_stat',
		not_final = true
	},
	take_position = {
		code = 'take_position',
		descript = '',
		icon = load("res://assets/images/iconsskills/takeposition.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','support', 'instant'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_takeposition'})], 
		cost = {},
		charges = 0,
		combatcooldown = 5,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		damage = 0,
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['0'],
		damagestat = 'no_stat'
	},
	windwall = {
		code = 'windwall',
		descript = '',
		icon = load("res://assets/images/iconsskills/windwall.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['buff','support'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_windwall'})], 
		cost = {},
		charges = 2,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'weapon',
		damage = 0,
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = null, hit = null},
		value = ['0'],
		damagestat = 'no_stat'
	},
#dummyskills
	master_lust_skill ={
		code = 'master_lust_skill',
		new_syntax = true,
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [{code = 'stat', stat = 'lust', operant = 'gte', value = 50}],
		effects = [],
		cost = {},
		charges = 1,
		cooldown = 1,
		icon = load("res://assets/images/iconsskills/Reward_with_sex 3.png"),
		tags = ['dialogue_skill'],
		dialogue_text = '',
		dialogue_image = null,
		dialogue_options = [{code = "master_lust_exp", reqs = [], text = '1'},
		{code = "master_lust_hp", reqs = [], text = '2'},
		{code = "master_lust_buff", reqs = [], text = '3'}, #+20% productivity for 3 days
		{code = "master_lust_combat_buff", reqs = [], text = '4'} # +15% atk matk for 2 days
		],
	},
	
	master_lust_exp = {#consume all target lust, give 1xp per 1lust to target
		code = 'master_lust_exp',
		
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],#{code = 'stat', name = 'lust'}], #TOCHECK
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		value = [['target.lust','*-1.0'],['target.lust',"*0.5"]],
		damagestat = ['lust','base_exp'],
	},
	master_lust_hp = {#consume all target lust, give 1hp 0.5mp per lust
		code = 'master_lust_hp',
		
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		value = [['target.lust','*-1.0'],['target.lust'],['target.lust','*0.5']],
		damagestat = ['lust','hp','mp'],
	},
#	master_lust_obed = {#consume all target lust, gives 2 obedience and 2 fear per 1 lust
#		code = 'master_lust_obed',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		reqs = [],
#		targetreqs = [],
#		effects = [],
#		cost = {},
#		charges = 0,
#		cooldown = 0,
#		icon = null,
#		tags = ['positive', 'no_mod'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		value = [['target.lust','*0.2'],['target.lust'],['100']],
#		damagestat = ['loyalty','-lust','obedience'],
#	},
	master_lust_buff = {#consume 50 target lust, gives +20% productivity for 3 days buff
		code = 'master_lust_buff',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({duration = 12, effect = 'master_productivity_1'})],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = load("res://assets/images/iconsclasses/Alchemist.png"),
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		value = [['-50']],
		damagestat = ['lust'],
	},
	master_lust_combat_buff = {
		code = 'master_lust_combat_buff',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({duration = 8, effect = 'master_combat_1'})],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = load("res://assets/images/iconsclasses/Alchemist.png"),
		tags = ['positive'],
		dialogue_report = 'dialogue_master_lust_combat_buff',
		dialogue_show_repeat = false,
		value = [['-50']],
		damagestat = ['lust'],
	},
	succubus_lust_skill = {
		code = 'succubus_lust_skill',
		new_syntax = true,#not true but template skills do not need reformatting at all
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [{code = 'stat', stat = 'lust', operant = 'gte', value = 50}],
		effects = [],
		cost = {mp = 15},
		charges = 1,
		cooldown = 1,
		icon = load("res://assets/images/iconsskills/Reward_with_sex 3.png"),
		tags = ['dialogue_skill'],
		dialogue_text = '',
		dialogue_image = 'succubuslust',
		dialogue_options = [{code = "succubus_lust_xp_convert", reqs = [], text = '1'},
		{code = "succubus_lust_hp_convert", reqs = [], text = '2'},
#		{code = "succubus_lust_obed_convert", reqs = [], text = '3'},
		{code = "succubus_lust_combat_buff", reqs = [], text = '3'}
		],
	},
	succubus_lust_xp_convert = {#consume target lust, receive base exp based on lust consumed
		code = 'succubus_lust_xp_convert',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {mp = 15},
		charges = 0,
		cooldown = 0,
		icon = load("res://assets/images/iconsclasses/Alchemist.png"),
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'succubuslust',
		value = [['target.lust','*-1.0'],['target.lust']],
		damagestat = ['lust','base_exp'],
		receiver = ['target','caster']
	},
	succubus_lust_hp_convert = {#consume target lust, recover 1x hp and 0.75x mana 
		code = 'succubus_lust_hp_convert',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {mp = 15},
		charges = 0,
		cooldown = 0,
		icon = load("res://assets/images/iconsclasses/Alchemist.png"),
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'succubuslust',
		value = [['target.lust','*-1.0'],['target.lust'],['target.lust', '*0.75']],
		damagestat = ['lust','hp', 'mp'],
		receiver = ['target','caster', 'caster']
	},
#	succubus_lust_obed_convert = {#consume 50 target lust, receive full obedience and "Loyal" buff for 3 days
#		code = 'succubus_lust_obed_convert',
#		descript = '',
#		type = 'social',
#		ability_type = 'skill',
#		reqs = [],
#		targetreqs = [],
#		effects = [],
#		cost = {mp = 15},
#		charges = 0,
#		cooldown = 0,
#		icon = load("res://assets/images/iconsclasses/Alchemist.png"),
#		tags = ['positive', 'no_mod'],
#		dialogue_report = '',
#		dialogue_show_repeat = false,
#		dialogue_image = 'succubuslust',
#		value = [['target.lust','*0.125'],['target.lust'],['100']],
#		damagestat = ['loyalty','-lust','obedience'],
#		receiver = ['caster','target','caster']
#	},
	succubus_lust_combat_buff = {#consume 50 target lust, gives +25% atk/matk buff for 2 days
		code = 'succubus_lust_combat_buff',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({duration = 8, effect = 'succubus_combat_1'})],
		cost = {mp = 15},
		charges = 0,
		cooldown = 0,
		icon = load("res://assets/images/iconsclasses/Alchemist.png"),
		tags = ['positive'],
		dialogue_report = '',
		dialogue_show_repeat = false,
		dialogue_image = 'succubuslust',
		value = [['-50']],
		damagestat = ['lust'],
	},
	
	#items
	
	aphrodisiac = {
		code = 'aphrodisiac',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = ['positive'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['50']],
		random_factor = [25],
		damagestat = ['lust']
	},
	alcohol = { #2remake
		code = 'alcohol',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = ['positive'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['36']],
		random_factor = [5,0],
		damagestat = ['no_stat']
	},
	beer = { #2remake
		code = 'alcohol',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = ['positive'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['20']],
		random_factor = [4,0],
		damagestat = ['no_stat']
	},
	exp_scroll = {
		code = 'exp_scroll',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = ['positive'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['100']],
		damagestat = ['base_exp']
	},
	tamedrug = {
		code = 'tamedrug',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = [],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['1'], ['1'], ['1']],
		random_factor = [2,1,0],
		damagestat = ['tame_factor','timid_factor','-wits_factor']
	},
	ragedrug = {
		code = 'ragedrug',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = [],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['1'], ['1'], ['1']],
		random_factor = [1,1,0],
		damagestat = ['-wits_factor','-tame_factor','physics_factor']
	},
	sexdrug = {
		code = 'sexdrug',
		descript = '',
		icon = null,
		type = 'social', 
		ability_type = 'item',
		tags = [],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'self',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		dialogue_report = '',
		dialogue_show_repeat = false,
		sfx = [], 
		sound = [],
		value = [['1'], ['6'], ['1']],
		random_factor = [0,0,0],
		damagestat = ['-wits_factor','+sexuals_factor','-physics_factor']
	},
	
	hairdye = {
		new_syntax = true,
		code = 'hairdye',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'hairdye',
	},
	minorus_potion = {
		new_syntax = true,
		code = 'minorus_potion',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'minorus_potion',
	},
	majorus_potion = {
		new_syntax = true,
		code = 'majorus_potion',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'majorus_potion',
	},
	writ_of_exemption = {
		new_syntax = true,
		code = 'writ_of_exemption',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'writ_of_exemption',
	},
	map = {
		new_syntax = true,
		code = 'map',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'map',
	},
	trait_removal = {
		new_syntax = true,
		code = 'trait_removal',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'trait_removal',
	},
	pheromones = {
		new_syntax = true,
		code = 'pheromones',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'pheromones',
	},
	oblivionpot = {
		new_syntax = true,
		code = 'oblivionpot',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'oblivionpot',
	},
	sexswappot = {
		new_syntax = true,
		code = 'sexswappot',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'sex_swap',
	},
	lactation_pot = {
		new_syntax = true,
		code = 'lactation_pot',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'lactation_pot',
	},
	zephyra_underwear = {
		new_syntax = true,
		code = 'zephyra_underwear',
		descript = '',
		type = 'social',
		ability_type = 'skill',
		reqs = [],
		targetreqs = [],
		effects = [],
		cost = {},
		charges = 0,
		cooldown = 0,
		icon = null,
		tags = [],
		special = 'zephyra_underwear',
	},
	i_lifeshard = {
		code = 'i_lifeshard',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['heal', 'noreduce'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally', #or ally, not sure
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',#not sure but not matters
		
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['20'],
		random_factor = 5,
		damagestat = 'hp'
	},
	i_lifegem = {
		code = 'i_lifegem',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['heal', 'noreduce'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',#not sure but not matters
		
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['45'],
		random_factor = 10,
		damagestat = 'hp'
	},
	i_energyshard = {
		code = 'i_energyshard',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['heal', 'noreduce'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',#not sure but not matters
		
		sfx = [], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['20'],
		random_factor = 5,
		damagestat = 'mp'
	},
	i_energygem = {
		code = 'i_energygem',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['heal', 'noreduce'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',#not sure but not matters
		
		sfx = [], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['50'],
		random_factor = 15,
		damagestat = 'mp'
	},
	i_powder = {
		code = 'i_powder',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['heal', 'noreduce', 'use_as_combat'],
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'weapon',#not sure but not matters
		
		sfx = [], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['25'],
		random_factor = 10,
		damagestat = 'hp'
	},
	i_physbuf = {
		code = 'i_physbuf',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['noreduce', 'use_as_combat'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_i_physbuf'})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		
		sfx = [], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['0'],
		random_factor = 0,
		damagestat = 'no_stat'
	},
	i_witsbuf = {
		code = 'i_witsbuf',
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['noreduce', 'use_as_combat'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_i_witsbuf'})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		
		sfx = [], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['0'],
		random_factor = 0,
		damagestat = 'no_stat'
	},
	i_res = {#
		code = 'i_res',
#		new_syntax = true,
		descript = '',
		icon = null,
		type = 'combat', 
		ability_type = 'item',
		tags = ['resurrect'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_res', push_value = true})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'dead',
		sfx = [], 
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = ['20'],
		damagestat = 'no_stat'
	},
}



var training_actions = {
	praise = {
		code = 'praise',
		type = 'positive',
		name = '',
		descript = '',
		scene_image = 'praise',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
	},
	reward = {
		code = 'reward',
		type = 'positive',
		name = '',
		descript = '',
		scene_image = 'reward',
		scene_text = '',
		result_text = {},
		bonus_changes = [
			{type = 'disposition', check = ['weak', 'kink'], chance = {fail_mul = 0, resist_mul = 0}},
		],
		reqs = [],
		reqs_trainer = [],
		cost = {gold = 10},
		disposition_affects = ['humiliation']
	},
	dayoff = {
		code = 'dayoff',
		type = 'positive',
		name = '',
		descript = '',
		scene_image = 'day_off',
		scene_text = '',
		result_text = {},
		bonus_changes = [
			{type = 'always', chance = {fail_mul = 0}},
		],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['social']
	},
	slap = {
		code = 'slap',
		type = 'physical',
		name = '',
		descript = '',
		scene_image = 'slap',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['positive']
	},
	spank = {
		code = 'spank',
		type = 'physical',
		name = '',
		descript = '',
		scene_image = 'spank',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
	},
	whip = {
		code = 'whip',
		type = 'physical',
		name = '',
		descript = '',
		scene_image = 'punish',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['magic']
	},
	scold = {
		code = 'scold',
		type = 'humiliation',
		name = '',
		descript = '',
		scene_image = 'warn',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
	},
	insult = {
		code = 'insult',
		type = 'humiliation',
		name = '',
		descript = '',
		scene_image = 'warn',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['positive']
	},
	kneel = {
		code = 'kneel',
		type = 'humiliation',
		name = '',
		descript = '',
		scene_image = 'kneel',
		scene_text = '',
		result_text = {},
		bonus_changes = [
			{type = 'disposition', check = ['weak', 'kink'], effect = {loyalty_add = [3, 5]}},
			{type = 'disposition', check = ['resist'], effect = {spirit_add = -3}},
			],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['social']
	},
	shame = {
		code = 'shame',
		type = 'social',
		name = '',
		descript = '',
		scene_image = 'warn',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
	},
	punish = {
		code = 'punish',
		type = 'social',
		name = '',
		descript = '',
		scene_image = 'public_punish',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
	},
	molest = {
		code = 'molest',
		type = 'social',
		name = '',
		descript = '',
		scene_image = 'grope',
		scene_text = '',
		result_text = {},
		bonus_changes = [
			{type = 'disposition', check = ['weak', 'kink'], effect = {loyalty_add = [3, 5]}},
			{type = 'disposition', check = ['resist'], effect = {spirit_add = [-10, -7]}},
		],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['sexual']
	},
	grope = {
		code = 'grope',
		type = 'sexual',
		name = '',
		descript = '',
		scene_image = 'grope',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['physical']
	},
	strip = {
		code = 'strip',
		type = 'sexual',
		name = '',
		descript = '',
		scene_image = 'strip',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['social']
	},
	rape = {
		code = 'rape',
		type = 'sexual',
		name = '',
		descript = '',
		scene_image = 'grope',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		showup_reqs = [{code = 'unique', value = 'amelia'}],
		disposition_affects = ['positive','humiliation'],
		cost = {},
	},
	edge = {
		code = 'edge',
		type = 'sexual',
		name = '',
		descript = '',
		scene_image = 'abuse',
		scene_text = '',
		result_text = {},
		bonus_changes = [
			{type = 'disposition', check = ['resist', 'neutral'], effect = {spirit_add = [-25, -15]}},
			{type = 'disposition', check = ['kink'], effect = {loyalty_add = [5, 6]}},
		],
		reqs = [],
		reqs_trainer = [],
		cost = {},
	},
	publicuse = {
		code = 'publicuse',
		type = 'sexual',
		name = '',
		descript = '',
		scene_image = 'public_use',
		scene_text = '',
		result_text = {},
		bonus_changes = [
			{type = 'always', effect = {loyalty_add = [3, 5]}},
			{type = 'disposition', check = ['resist', 'neutral', 'weak'], effect = {spirit_add = [-50, -40]}},
		],
		reqs = [],
		reqs_trainer = [],
		cost = {},
		disposition_affects = ['positive', 'humiliation']
	},
	mindread = {
		code = 'mindread',
		type = 'magic',
		name = '',
		descript = '',
		scene_image = 'mindread',
		scene_text = '',
		result_text = {},
		bonus_changes = [{type = 'always', effect = {loyalty_mul = 0, spirit_mul = 0}},],
		reqs = [],
		reqs_trainer = [],
		cost = {mana = 3},
	},
	influence = {
		code = 'influence',
		type = 'magic',
		name = '',
		descript = '',
		scene_image = 'sedation',
		scene_text = '',
		result_text = {},
		bonus_changes = [],
		reqs = [],
		reqs_trainer = [],
		cost = {mana = 5},
		disposition_affects = [['positive', 'physical', 'humiliation', 'social', 'sexual']]
	},
	stronginfluence = {
		code = 'stronginfluence',
		type = 'magic',
		name = '',
		descript = '',
		scene_image = 'sedation',
		scene_text = '',
		result_text = {},
		bonus_changes = [{type = 'always', chance = {success_mul = 2}},],
		reqs = [],
		reqs_trainer = [{code = 'trait', trait = 'advanced_spells', check = true}],
		cost = {mana = 10},
	},
	mindcontrol = {
		code = 'mindcontrol',
		type = 'magic',
		name = '',
		descript = '',
		scene_image = 'mindcontrol',
		scene_text = '',
		result_text = {},
		bonus_changes = [{type = 'always', effect = {loyalty_mul = 2, spirit_mul = 2}},],
		reqs = [],
		reqs_trainer = [{code = 'has_profession', check = true, profession = 'dominator'}],
		cost = {mana = 25},
	},
	
}

var training_categories = {
	positive = {
		name = '',
		description = '',
		icon = "res://assets/Textures_v2/CHAR_INFO/loyalty/Assigned trainer/icons_40x40/like.png",
		bonus_changes = [
			{type = 'trainer_class', check = 'master', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'renown_royalty', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'headgirl', effect = {loyalty_mul = 1.25}},
			{type = 'trainer_class', check = 'director', effect = {spirit_mul = 0.8}},
			{type = 'trainer_class', check = 'trainer', result = ['success', 'crit_success'], effect = {loyalty_add = 3}},
			{type = 'trainer_status', check = 'mentor', result = ['success', 'crit_success'], effect = {spirit_add = 3}},
			{type = 'stat', stat = 'tame_factor', operant = 'gte', check = 6, effect = {spirit_mul = 0.5}},
		]
	},
	physical = {
		name = '',
		description = '',
		icon = "res://assets/Textures_v2/CHAR_INFO/loyalty/Assigned trainer/icons_40x40/whip.png",
		bonus_changes = [
			{type = 'trainer_class', check = 'master', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'renown_royalty', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'sadist', effect = {spirit_mul = 1.2, loyalty_mul = 1.2}},
			{type = 'trainer_class', check = 'headgirl', effect = {loyalty_mul = 1.15}},
			{type = 'trainer_class', check = 'director', effect = {spirit_mul = 0.8}},
			{type = 'trainer_class', check = 'trainer', result = ['success', 'crit_success'], effect = {loyalty_add = 3}},
			{type = 'trainer_status', check = 'mentor', result = ['success', 'crit_success'], effect = {spirit_add = 3}},
			{type = 'stat', stat = 'tame_factor', operant = 'gte', check = 6, effect = {spirit_mul = 0.5}},
			]
	},
	humiliation = {
		name = '',
		description = '',
		icon = "res://assets/Textures_v2/CHAR_INFO/loyalty/Assigned trainer/icons_40x40/knees.png",
		bonus_changes = [
			{type = 'trainer_class', check = 'master', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'renown_royalty', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'headgirl', effect = {loyalty_mul = 1.15}},
			{type = 'trainer_class', check = 'director', effect = {spirit_mul = 0.8}},
			{type = 'trainer_class', check = 'trainer', result = ['success', 'crit_success'], effect = {loyalty_add = 3}},
			{type = 'trainer_status', check = 'mentor', result = ['success', 'crit_success'], effect = {spirit_add = 3}},
			{type = 'stat', stat = 'tame_factor', operant = 'gte', check = 6, effect = {spirit_mul = 0.5}},
		]
	},
	social = {
		name = '',
		description = '',
		icon = "res://assets/Textures_v2/CHAR_INFO/loyalty/Assigned trainer/icons_40x40/group.png",
		bonus_changes = [
			{type = 'trainer_class', check = 'master', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'renown_royalty', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'headgirl', effect = {loyalty_mul = 1.15}},
			{type = 'trainer_class', check = 'director', effect = {spirit_mul = 0.8}},
			{type = 'trainer_class', check = 'trainer', result = ['success', 'crit_success'], effect = {loyalty_add = 3}},
			{type = 'trainer_status', check = 'mentor', result = ['success', 'crit_success'], effect = {spirit_add = 3}},
			{type = 'stat', stat = 'tame_factor', operant = 'gte', check = 6, effect = {spirit_mul = 0.5}},
			]
	},
	sexual = {
		name = '',
		description = '',
		icon = "res://assets/Textures_v2/CHAR_INFO/loyalty/Assigned trainer/icons_40x40/heart.png",
		bonus_changes = [
			{type = 'trainer_class', check = 'master', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'renown_royalty', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'succubus', chance = {resist_add = -30, fail_add = -30}},
			{type = 'trainer_class', check = 'true_succubus', chance = {resist_add = -30, fail_add = -30}},
			{type = 'trainer_class', check = 'sadist', effect = {spirit_mul = 1.2, loyalty_mul = 1.2}},
			{type = 'trainer_class', check = 'director', effect = {spirit_mul = 0.8}},
			{type = 'trainer_class', check = 'trainer', result = ['success', 'crit_success'], effect = {loyalty_add = 3}},
			{type = 'trainer_status', check = 'mentor', result = ['success', 'crit_success'], effect = {spirit_add = 3}},
			{type = 'stat', stat = 'tame_factor', operant = 'gte', check = 6, effect = {spirit_mul = 0.5}},
			]
	},
	magic = {
		name = '',
		description = '',
		icon =  "res://assets/Textures_v2/CHAR_INFO/loyalty/Assigned trainer/icons_40x40/magic effect.png",
		bonus_changes = [
			{type = 'trainer_class', check = 'master', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'renown_royalty', chance = {success_add = 20, crit_success_add = 20}},
			{type = 'trainer_class', check = 'director', effect = {spirit_mul = 0.8}},
			{type = 'trainer_class', check = 'trainer', result = ['success', 'crit_success'], effect = {loyalty_add = 3}},
			{type = 'trainer_status', check = 'mentor', result = ['success', 'crit_success'], effect = {spirit_add = 3}},
			{type = 'stat', stat = 'tame_factor', operant = 'gte', check = 6, effect = {spirit_mul = 0.5}},
			]
	},
}


func get_charges(skill, caster):#template, object
	var res = 0
	if skill.has('charges'): 
		if typeof(skill.charges) == TYPE_ARRAY:
			res = round(caster.calculate_number_from_string_array(skill.charges))
		elif typeof(skill.charges) == TYPE_INT:
			res = skill.charges
		else:
			print('error in skill template %s' % [skill.code])
		if caster.has_status('communicative'):
			res += 1
	return res


func _ready():
	for s in training_actions:
		var tmp = training_actions[s]
		if tmp.name == '':
			tmp.name = 'ACTION' + s.to_upper()
		if tmp.descript == '':
			tmp.descript = 'ACTION' + s.to_upper() + 'DESCRIPT'
		if tmp.scene_text == '':
			tmp.scene_text = 'ACTION' + s.to_upper() + 'SCENETEXT'
	for s in training_categories:
		var tmp = training_categories[s]
		if tmp.name == '':
			tmp.name = 'ACTIONTYPE' + s.to_upper()
